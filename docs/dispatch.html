---

title: Type dispatch

keywords: fastai
sidebar: home_sidebar

summary: "Basic single and dual parameter dispatch"
description: "Basic single and dual parameter dispatch"
nb_path: "nbs/03_dispatch.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_dispatch.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.showdoc</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">fastcore.test</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helpers">Helpers<a class="anchor-link" href="#Helpers"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">type_hints</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="s2">&quot;Same as `typing.get_type_hints` but returns `</span><span class="si">{}</span><span class="s2">` if not allowed type&quot;</span>
    <span class="k">return</span> <span class="n">typing</span><span class="o">.</span><span class="n">get_type_hints</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">_allowed_types</span><span class="p">)</span> <span class="k">else</span> <span class="p">{}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="type_hints" class="doc_header"><code>type_hints</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>type_hints</code>(<strong><code>f</code></strong>)</p>
</blockquote>
<p>Same as <code>typing.get_type_hints</code> but returns <code>{}</code> if not allowed type</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="anno_ret" class="doc_header"><code>anno_ret</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>anno_ret</code>(<strong><code>func</code></strong>)</p>
</blockquote>
<p>Get the return annotation of <code>func</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">td</span> <span class="o">=</span> <span class="p">{</span><span class="nb">int</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">td</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">cmp_instance</span><span class="p">),</span> <span class="p">[</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">,</span> <span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">):</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">object</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">object</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">str</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="n">NoneType</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="kc">None</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="n">NoneType</span><span class="p">,</span><span class="nb">str</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span> <span class="k">pass</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">_f</span><span class="p">),</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">str</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_p2_anno</span><span class="p">(</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)),</span> <span class="p">(</span><span class="nb">object</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following class is the basis that allows us to do type dipatch with type annotations. It contains a dictionary type -&gt; functions and ensures that the proper function is called when passed an object (depending on its type).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TypeDispatch" class="doc_header"><code>class</code> <code>TypeDispatch</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L65" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TypeDispatch</code>(<strong><code>funcs</code></strong>=<em><code>()</code></em>, <strong><code>bases</code></strong>=<em><code>()</code></em>)</p>
</blockquote>
<p>Dictionary-like object; <code>__getitem__</code> matches keys of types using <code>issubclass</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">f_col</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">typing</span><span class="o">.</span><span class="n">Collection</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>
<span class="k">def</span> <span class="nf">f_nin</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">int</span><span class="p">:</span>  <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="k">def</span> <span class="nf">f_ni2</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>
<span class="k">def</span> <span class="nf">f_bll</span><span class="p">(</span><span class="n">x</span><span class="p">:(</span><span class="nb">bool</span><span class="p">,</span><span class="nb">list</span><span class="p">)):</span> <span class="k">return</span> <span class="n">x</span>
<span class="k">def</span> <span class="nf">f_num</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TypeDispatch</span><span class="p">([</span><span class="n">f_nin</span><span class="p">,</span><span class="n">f_ni2</span><span class="p">,</span><span class="n">f_num</span><span class="p">,</span><span class="n">f_bll</span><span class="p">,</span><span class="kc">None</span><span class="p">])</span>

<span class="n">t</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">f_ni2</span><span class="p">)</span> <span class="c1">#Should work even if we add the same function twice.</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">f_ni2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">],</span> <span class="n">f_nin</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">f_num</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">f_bll</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">list</span><span class="p">],</span> <span class="n">f_bll</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">f_col</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">f_col</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">],</span> <span class="n">f_nin</span><span class="p">)</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="n">o</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">returns</span><span class="p">(</span><span class="n">o</span><span class="p">),</span> <span class="nb">int</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">first</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="n">t</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(list,object) -&gt; f_bll
(typing.Collection,object) -&gt; f_col
(bool,object) -&gt; f_bll
(int,object) -&gt; f_ni2
(Integral,object) -&gt; f_nin
(Number,object) -&gt; f_num
(object,object) -&gt; NoneType</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If <code>bases</code> is set to a collection of <a href="/dispatch.html#TypeDispatch"><code>TypeDispatch</code></a> objects, then they are searched matching functions if no match is found in this object.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">f_str</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="s1">&#39;1&#39;</span>

<span class="n">t2</span> <span class="o">=</span> <span class="n">TypeDispatch</span><span class="p">(</span><span class="n">f_str</span><span class="p">,</span> <span class="n">bases</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">f_ni2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">],</span> <span class="n">f_nin</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">f_num</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">f_bll</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">f_str</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="s1">&#39;a1&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">],</span> <span class="n">f_nin</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="p">(</span><span class="n">o</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t2</span><span class="o">.</span><span class="n">returns</span><span class="p">(</span><span class="n">o</span><span class="p">),</span> <span class="nb">int</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">m_nin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:(</span><span class="nb">str</span><span class="p">,</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">)):</span> <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;1&#39;</span>
<span class="k">def</span> <span class="nf">m_bll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="nb">bool</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">foo</span><span class="o">=</span><span class="s1">&#39;a&#39;</span>
<span class="k">def</span> <span class="nf">m_num</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="n">numbers</span><span class="o">.</span><span class="n">Number</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">TypeDispatch</span><span class="p">([</span><span class="n">m_nin</span><span class="p">,</span><span class="n">m_num</span><span class="p">,</span><span class="n">m_bll</span><span class="p">])</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="n">f</span> <span class="o">=</span> <span class="n">t</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;11&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mf">1.</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)</span>
<span class="n">test_is</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">inst</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="p">(()),</span> <span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">m_tup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="nb">tuple</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">TypeDispatch</span><span class="p">(</span><span class="n">m_tup</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">A2</span><span class="p">:</span> <span class="n">f</span> <span class="o">=</span> <span class="n">t2</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">A2</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;11&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mf">1.</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)</span>
<span class="n">test_is</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">inst</span><span class="p">,</span> <span class="n">a2</span><span class="p">)</span>
<span class="n">a2</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">foo</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">f</span><span class="p">(()),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TypeDispatch</span><span class="p">([</span><span class="n">f1</span><span class="p">,</span><span class="n">f2</span><span class="p">])</span>

<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">f1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">],</span> <span class="n">f1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">],</span> <span class="n">f2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">,</span><span class="nb">float</span><span class="p">],</span> <span class="n">f1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">2.0</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">t</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(int,float) -&gt; f2
(Integral,object) -&gt; f1</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="typedispatch-Decorator">typedispatch Decorator<a class="anchor-link" href="#typedispatch-Decorator"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DispatchReg" class="doc_header"><code>class</code> <code>DispatchReg</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L119" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DispatchReg</code>()</p>
</blockquote>
<p>A global registry for <a href="/dispatch.html#TypeDispatch"><code>TypeDispatch</code></a> objects keyed by function name</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@typedispatch</span>
<span class="k">def</span> <span class="nf">f_td_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}{</span><span class="n">y</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="nd">@typedispatch</span>
<span class="k">def</span> <span class="nf">f_td_test</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">numbers</span><span class="o">.</span><span class="n">Integral</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="nd">@typedispatch</span>
<span class="k">def</span> <span class="nf">f_td_test</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>

<span class="n">test_eq</span><span class="p">(</span><span class="n">f_td_test</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mf">2.0</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">f_td_test</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">f_td_test</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="s1">&#39;ab&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Casting">Casting<a class="anchor-link" href="#Casting"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we can dispatch on types, let's make it easier to cast objects to a different type.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="retain_meta" class="doc_header"><code>retain_meta</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L133" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>retain_meta</code>(<strong><code>x</code></strong>, <strong><code>res</code></strong>, <strong><code>copy_meta</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Call <code>res.set_meta(x)</code>, if it exists</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="default_set_meta" class="doc_header"><code>default_set_meta</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L139" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>default_set_meta</code>(<strong><code>x</code></strong>, <strong><code>copy_meta</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Copy over <code>_meta</code> from <code>x</code> to <code>res</code>, if it's missing</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This works both for plain python classes:...</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mk_class</span><span class="p">(</span><span class="s1">&#39;_T1&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">_T2</span><span class="p">(</span><span class="n">_T1</span><span class="p">):</span> <span class="k">pass</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">_T1</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">_T2</span><span class="p">)</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">_T2</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">t2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>...as well as for arrays and tensors.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">_T1</span><span class="p">(</span><span class="n">ndarray</span><span class="p">):</span> <span class="k">pass</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">_T1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">]),</span> <span class="n">t2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_T1</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">t2</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To customize casting for other types, define a separate <code>cast</code> function with <a href="/dispatch.html#typedispatch"><code>typedispatch</code></a> for your type.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="retain_type" class="doc_header"><code>retain_type</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L160" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>retain_type</code>(<strong><code>new</code></strong>, <strong><code>old</code></strong>=<em><code>None</code></em>, <strong><code>typ</code></strong>=<em><code>None</code></em>, <strong><code>copy_meta</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Cast <code>new</code> to type of <code>old</code> or <code>typ</code> if it's a superclass</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">_T</span><span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="k">pass</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">_T</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">retain_type</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="n">_T</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If <code>old</code> has a <code>_meta</code> attribute, its content is passed when casting <code>new</code> to the type of <code>old</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">_A</span><span class="p">():</span>
    <span class="n">set_meta</span> <span class="o">=</span> <span class="n">default_set_meta</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="o">=</span><span class="n">t</span>

<span class="k">class</span> <span class="nc">_B1</span><span class="p">(</span><span class="n">_A</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_meta</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="n">a</span><span class="p">}</span>
        
<span class="n">x</span> <span class="o">=</span> <span class="n">_B1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">_A</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">retain_type</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">old</span><span class="o">=</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">_meta</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="n">L</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">]}</span>
<span class="n">first</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>fastcore.foundation.L</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="retain_types" class="doc_header"><code>retain_types</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L173" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>retain_types</code>(<strong><code>new</code></strong>, <strong><code>old</code></strong>=<em><code>None</code></em>, <strong><code>typs</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Cast each item of <code>new</code> to type of matching item in <code>old</code> if it's a superclass</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">T</span><span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="k">pass</span>

<span class="n">t1</span><span class="p">,</span><span class="n">t2</span> <span class="o">=</span> <span class="n">retain_types</span><span class="p">((</span><span class="mi">1</span><span class="p">,(</span><span class="mi">1</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))))))</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">T</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))))</span>

<span class="n">t1</span><span class="p">,</span><span class="n">t2</span> <span class="o">=</span> <span class="n">retain_types</span><span class="p">((</span><span class="mi">1</span><span class="p">,(</span><span class="mi">1</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))),</span> <span class="n">typs</span> <span class="o">=</span> <span class="p">{</span><span class="nb">tuple</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]}]}]})</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq_type</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">T</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="explode_types" class="doc_header"><code>explode_types</code><a href="https://github.com/fastai/fastcore/tree/master/fastcore/dispatch.py#L185" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>explode_types</code>(<strong><code>o</code></strong>)</p>
</blockquote>
<p>Return the type of <code>o</code>, potentially in nested dictionaries for thing that are listy</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">explode_types</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="n">T</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)))))),</span> <span class="p">{</span><span class="nb">tuple</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="p">{</span><span class="n">T</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">]}]}]})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

